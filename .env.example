# Copy this file to .env and adjust values as needed
# Used by docker-compose and the application

# ----- Images / compose -----
IMAGE_TAG=latest
# If different from IMAGE_TAG for docreader, set here
DOCREADER_TAG=

# ----- Application -----
GIN_MODE=release
# Where the backend listens (container port is fixed at 8080)
APP_PORT=8080

# ----- Database (Postgres) -----
DB_DRIVER=postgres
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=weknora

# ----- Storage -----
# local | minio | cos (local recommended for quick start)
STORAGE_TYPE=local
LOCAL_STORAGE_BASE_DIR=/data/files

# ----- Docreader (gRPC) -----
# If you enable the docreader profile in compose, this can stay as service DNS
DOCREADER_ADDR=docreader:50051

# ----- MinIO (optional; enable with COMPOSE_PROFILES=minio) -----
MINIO_ACCESS_KEY_ID=minioadmin
MINIO_SECRET_ACCESS_KEY=minioadmin

# ----- Redis stream (optional) -----
REDIS_ADDR=redis:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_PREFIX=weknora

# ----- Observability (optional) -----
# Example: http://otel-collector:4317
OTEL_EXPORTER_OTLP_ENDPOINT=

# ----- Elasticsearch retriever (optional) -----
ELASTICSEARCH_ADDR=
ELASTICSEARCH_INDEX=
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# ----- Ollama (optional) -----
# Example: http://host.docker.internal:11434 or http://ollama:11434
OLLAMA_BASE_URL=
OLLAMA_OPTIONAL=true

# ----- Init/Test data (optional) -----
INIT_TEST_TENANT_ID=
INIT_TEST_KNOWLEDGE_BASE_ID=

# ----- Security (optional) -----
TENANT_AES_KEY=
